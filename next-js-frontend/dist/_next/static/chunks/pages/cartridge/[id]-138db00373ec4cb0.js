(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6851],{3929:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cartridge/[id]",function(){return t(3579)}])},9972:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(5893),a=t(1555),r=t(5213),s=t(5738),o=t(4051),l=t(231);function d(){return(0,i.jsx)(s.Z,{bg:"dark",className:"mt-auto justify-content-center rounded text-light",children:(0,i.jsx)(r.Z,{variant:"underline",children:(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)(a.Z,{className:"px-5",children:[(0,i.jsx)("h3",{children:"Developer"}),(0,i.jsx)(r.Z.Link,{className:"ms-1 p-0",href:"https://github.com/cartesi",children:(0,i.jsxs)("span",{className:"d-flex align-items-center",children:[(0,i.jsx)(l.hJX,{})," ",(0,i.jsx)("span",{className:"ms-1",children:"Github"})]})}),(0,i.jsxs)(r.Z.Link,{className:"ms-1 p-0",href:"https://docs.cartesi.io/",children:[(0,i.jsx)("img",{src:"/cartesi.jpg",width:16,className:"me-1 align-baseline"}),"Documentation"]})]}),(0,i.jsxs)(a.Z,{className:"px-5",children:[(0,i.jsx)("h3",{children:"Community"}),(0,i.jsx)(r.Z.Link,{className:"ms-1 p-0",href:"https://discord.gg/VCbnrbrh",children:(0,i.jsxs)("span",{className:"d-flex align-items-center",children:[(0,i.jsx)(l.j2d,{})," ",(0,i.jsx)("span",{className:"ms-1",children:"Discord"})]})}),(0,i.jsx)(r.Z.Link,{className:"ms-1 p-0",href:"https://twitter.com/cartesiproject?s=20",children:(0,i.jsxs)("span",{className:"d-flex align-items-center",children:[(0,i.jsx)(l.fWC,{})," ",(0,i.jsx)("span",{className:"ms-1",children:"Twitter"})]})})]})]})})})}},8376:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var i=t(5893),a=t(132),r=t(7294),s=t(5005),o=t(5213),l=t(5738),d=t(478),c=t(2585);function u(e){let{activeKey:n}=e,[{wallet:t,connecting:u},h,p]=(0,a.Or)(),[x,g]=(0,r.useState)((0,i.jsx)(i.Fragment,{}));return(0,r.useEffect)(()=>{g((0,i.jsx)(s.Z,{variant:"outline-light",className:"position-absolute bottom-0 end-0 m-2",onClick:()=>t?p(t):h(),children:u?"Connecting":t?"Disconnect":"Connect Wallet"}))},[t,u]),(0,i.jsxs)(l.Z,{bg:"dark",className:"mb-3 rounded sticky-top position-relative",children:[(0,i.jsxs)(d.Z,{gap:1,children:[(0,i.jsxs)(l.Z.Brand,{href:"/",className:"d-flex justify-content-center",children:[(0,i.jsx)("img",{className:"header-image-left",alt:"Cartesi Arcade Image",src:"/controlls.png",width:"60",height:"60"}),(0,i.jsx)("h1",{className:"text-light m-2",children:"World Arcade"}),(0,i.jsx)("img",{className:"header-image-right",alt:"Cartesi Arcade Image",src:"/controlls.png",width:"60",height:"60"})]}),(0,i.jsxs)(o.Z,{variant:"underline",className:"justify-content-center",activeKey:n,children:[(0,i.jsx)(o.Z.Item,{children:(0,i.jsx)(o.Z.Link,{href:"/",children:"Games"})}),(0,i.jsx)(o.Z.Item,{children:(0,i.jsxs)(o.Z.Link,{href:"/upload",children:["Upload",(0,i.jsx)("span",{className:"ms-1",children:(0,i.jsx)(c.BDG,{})})]})})]})]}),x]})}},5808:function(e,n,t){"use strict";t.d(n,{U3:function(){return g},ib:function(){return f},uz:function(){return m}});var i=t(2729),a=t(8461);function r(){let e=(0,i._)(["\n    query notice($noticeIndex: Int!, $inputIndex: Int!) {\n  notice(noticeIndex: $noticeIndex, inputIndex: $inputIndex) {\n    index\n    input {\n      index\n      payload\n    }\n    payload\n    proof {\n      validity {\n        inputIndex\n        outputIndex\n        outputHashesRootHash\n        vouchersEpochRootHash\n        noticesEpochRootHash\n        machineStateHash\n        keccakInHashesSiblings\n        outputHashesInEpochSiblings\n      }\n      context\n    }\n  }\n}\n    "]);return r=function(){return e},e}function s(){let e=(0,i._)(["\n    query notices {\n  notices {\n    edges {\n      node {\n        index\n        input {\n          index\n          payload\n        }\n        payload\n      }\n    }\n  }\n}\n    "]);return s=function(){return e},e}function o(){let e=(0,i._)(["\n    query noticesByInput($inputIndex: Int!) {\n  input(index: $inputIndex) {\n    notices {\n      edges {\n        node {\n          index\n          input {\n            index\n          }\n          payload\n        }\n      }\n    }\n  }\n}\n    "]);return o=function(){return e},e}function l(){let e=(0,i._)(["\n    query voucher($voucherIndex: Int!, $inputIndex: Int!) {\n  voucher(voucherIndex: $voucherIndex, inputIndex: $inputIndex) {\n    index\n    input {\n      index\n      payload\n    }\n    destination\n    payload\n    proof {\n      validity {\n        inputIndex\n        outputIndex\n        outputHashesRootHash\n        vouchersEpochRootHash\n        noticesEpochRootHash\n        machineStateHash\n        keccakInHashesSiblings\n        outputHashesInEpochSiblings\n      }\n      context\n    }\n  }\n}\n    "]);return l=function(){return e},e}function d(){let e=(0,i._)(["\n    query vouchers {\n  vouchers {\n    edges {\n      node {\n        index\n        input {\n          index\n          payload\n        }\n        destination\n        payload\n      }\n    }\n  }\n}\n    "]);return d=function(){return e},e}function c(){let e=(0,i._)(["\n    query vouchersByInput($inputIndex: Int!) {\n  input(index: $inputIndex) {\n    vouchers {\n      edges {\n        node {\n          index\n          input {\n            index\n          }\n          destination\n          payload\n        }\n      }\n    }\n  }\n}\n    "]);return c=function(){return e},e}function u(){let e=(0,i._)(["\n    query report($reportIndex: Int!, $inputIndex: Int!) {\n  report(reportIndex: $reportIndex, inputIndex: $inputIndex) {\n    index\n    input {\n      index\n      payload\n    }\n    payload\n  }\n}\n    "]);return u=function(){return e},e}function h(){let e=(0,i._)(["\n    query reports {\n  reports {\n    edges {\n      node {\n        index\n        input {\n          index\n          payload\n        }\n        payload\n      }\n    }\n  }\n}\n    "]);return h=function(){return e},e}function p(){let e=(0,i._)(["\n    query reportsByInput($inputIndex: Int!) {\n  input(index: $inputIndex) {\n    reports {\n      edges {\n        node {\n          index\n          input {\n            index\n          }\n          payload\n        }\n      }\n    }\n  }\n}\n    "]);return p=function(){return e},e}function x(){let e=(0,i._)(["\n    query getInput($inputIndex: Int!) {\n  input(index: $inputIndex) {\n    reports {\n      edges {\n        node {\n          index\n          input {\n            index\n          }\n          payload\n        }\n      }\n    }\n    notices {\n      edges {\n        node {\n          index\n          input {\n            index\n          }\n          payload\n        }\n      }\n    }\n  }\n}\n    "]);return x=function(){return e},e}(0,a.ZP)(r());let g=(0,a.ZP)(s()),m=(0,a.ZP)(o());(0,a.ZP)(l()),(0,a.ZP)(d()),(0,a.ZP)(c()),(0,a.ZP)(u()),(0,a.ZP)(h()),(0,a.ZP)(p());let f=(0,a.ZP)(x())},1147:function(e,n,t){"use strict";t.d(n,{V:function(){return l}});var i=t(9934),a=t(2583),r=t(4098),s=t.n(r),o=t(5808);let l=async(e,n)=>{let t={notices:[],reports:[]};for(;0==t.notices.length&&0==t.reports.length;){let r=(0,i.eI)({url:e,exchanges:[(0,a.O)({initialDelayMs:2e3,maxNumberAttempts:Number.POSITIVE_INFINITY,retryIf:e=>(console.log("Checking error then retrying..."),e.graphQLErrors.length>0)}),i.Ek],fetch:s()});console.log("querying ".concat(e,' for notices and reports for input with index "').concat(n,'"...'));let{data:l,error:d}=await r.query(o.ib,{inputIndex:n}).toPromise();if(null==l?void 0:l.input){t={notices:[],reports:[]};for(let e=0;e<l.input.notices.edges.length;e++)t.notices.push(l.input.notices.edges[e].node);for(let e=0;e<l.input.reports.edges.length;e++)t.reports.push(l.input.reports.edges[e].node)}else throw Error(null==d?void 0:d.message)}return t}},6316:function(e,n,t){"use strict";t.d(n,{X8:function(){return o},nN:function(){return s},xD:function(){return l}});var i=t(9251),a=t(6441);async function r(e){let n=null,t=await fetch(e,{method:"GET",mode:"cors"});if(200==t.status){let e=await t.json(),a=i.ZN(e.reports[0].payload);try{n=JSON.parse(a)}catch(e){console.log(e)}}return n}let s=async e=>{let n="".concat("http://localhost:8080/inspect","/cartridges/").concat(e);return await r(n)},o=async e=>{let n="".concat("http://localhost:8080/inspect","/cartridges/").concat(e,"/cartridge"),t=await fetch(n,{method:"GET",mode:"cors"}),i="0x";if(200==t.status){let e=await t.json();try{for(let n=0;n<e.reports.length;n++)i=i.concat(e.reports[n].payload.substring(2))}catch(e){console.log(e)}}return a.lE(i)},l=async()=>{let e=await fetch("".concat("http://localhost:8080/inspect","/cartridges"),{method:"GET",mode:"cors"});if(200!=e.status)return[];let n=await e.json(),t="0x";for(let e=0;e<n.reports.length;e++)t=t.concat(n.reports[e].payload.substring(2));return JSON.parse(i.ZN(t))}},3579:function(e,n,t){"use strict";let i;t.r(n),t.d(n,{default:function(){return G}});var a,r,s,o,l=t(5893),d=t(1163),c=t(7294),u=t(682),h=t(8376),p=t(9972),x=t(6212),g=t(6968),m=t(478),f=t(5147),y=t(7977),j=t(1330),v=t(9352),w=t(231),b=t(1147),N=t(132),I=t(2914),Z=t(5005),S=t(241),D=t(4146),C=t(6441),_=t(6653),k=t(2585),E=t(9133),R=t(4359);function H(e){let{game_id:n,log_sent:t}=e,i=new TextEncoder,[{wallet:a}]=(0,N.Or)(),[r,o]=(0,c.useState)({args:"",inCard:i.encode("")}),[d,u]=(0,c.useState)(!0),[h,p]=(0,c.useState)(s.Ready);async function x(){let e,i;if(!a){alert("Connect first to upload a gameplay log.");return}let o=parseInt("409600"),l=new S.Q(a.provider,"any").getSigner(),d=new D.CH("0x59b22D57D4f067708AB0c00552767405926dc768",R.IInputBox__factory.abi,l);p(s.Sending);try{if(r.log.length>o){let t=window.prepareData(C.Dv(r.log),o);for(let a=0;a<t.length;a+=1){let s=t[a];e=await d.addInput("0x70ac08179605AF2D9e75782b8DEcDD3c22aA4D0C",window.encodeReplayChunk(n,C.Dv(r.outCardHash),r.args,C.Dv(r.inCard),s)),i=await e.wait()}}else e=await d.addInput("0x70ac08179605AF2D9e75782b8DEcDD3c22aA4D0C",window.encodeReplay(n,C.Dv(r.outCardHash),r.args,C.Dv(r.inCard),C.Dv(r.log))),i=await e.wait();console.log("Log Sent!"),t(Number(i.events[0].args[1]._hex))}catch(e){p(s.Ready),alert(e.message)}}function m(){r.log&&r.outCard&&r.outCardHash?u(!1):u(!0)}return h!=s.Ready?(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)(g.Z,{className:"my-2",animation:"border",variant:"light",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,l.jsxs)(I.Z,{children:[(0,l.jsxs)(I.Z.Group,{controlId:"formFile",className:"mb-3",children:[(0,l.jsxs)(I.Z.Label,{children:["Gameplay Log",(0,l.jsx)("span",{className:"ms-1",children:(0,l.jsx)(_.JnL,{})})]}),(0,l.jsx)(I.Z.Control,{title:"Log generated for a gameplay",type:"file",accept:".rivlog",onChange:function(e){if(!e.target.files||0==e.target.files.length)return;let n=e.target.files[0],t=new FileReader;t.onload=async e=>{var n,t,i;if(null===(n=e.target)||void 0===n?void 0:n.result){let n;n=(null===(t=e.target)||void 0===t?void 0:t.result)instanceof ArrayBuffer?null===(i=e.target)||void 0===i?void 0:i.result:{},r.log=n&&new Uint8Array(n)||void 0,m()}},t.readAsArrayBuffer(n)}})]}),(0,l.jsxs)(I.Z.Group,{controlId:"formFile",className:"mb-3",children:[(0,l.jsxs)(I.Z.Label,{children:["Score",(0,l.jsx)("span",{className:"ms-1",children:(0,l.jsx)(k.D_A,{})})]}),(0,l.jsx)(I.Z.Control,{title:"Score for the selected gameplay",type:"file",accept:".outcard",onChange:function(e){if(!e.target.files||0==e.target.files.length)return;let n=e.target.files[0],t=new FileReader;t.onload=async e=>{var n,t;if(null===(n=e.target)||void 0===n?void 0:n.result){let n=null===(t=e.target)||void 0===t?void 0:t.result.toString();r.outCard=n;let a=new E.Hash;a.update(i.encode(n)),r.outCardHash=a.digest(),m()}},t.readAsText(n)}})]}),(0,l.jsx)(Z.Z,{className:"float-end mb-3",variant:"outline-light",onClick:x,disabled:d,children:"Submit"})]})}(a=s||(s={}))[a.Ready=0]="Ready",a[a.Sending=1]="Sending";var A=t(1134),L=t(6316),q=t(4298),B=t.n(q),F=t(5733),$=t.n(F);function P(e){let{game_id:n,rivlog:t,outcard:i,log_sent:a,showModal:r}=e,[{wallet:s},d]=(0,N.Or)(),[u,h]=(0,c.useState)(o.Ready),{download:p,isInProgress:x}=(0,A.ZP)();async function m(){let e,l;if(!s){alert("Connect first to upload a gameplay log."),r(!1),await d(),r(!0);return}let c=function(e,n){let t=new TextEncoder,i={args:"",inCard:t.encode("")};i.log=e,i.outCard=n;let a=new E.Hash;return a.update(t.encode(n)),i.outCardHash=a.digest(),i}(t,i),u=parseInt("409600"),p=new S.Q(s.provider,"any").getSigner(),x=new D.CH("0x59b22D57D4f067708AB0c00552767405926dc768",R.IInputBox__factory.abi,p);try{if(h(o.Sending),c.log.length>u){let t=window.prepareData(C.Dv(c.log),u);for(let i=0;i<t.length;i+=1){let a=t[i];e=await x.addInput("0x70ac08179605AF2D9e75782b8DEcDD3c22aA4D0C",window.encodeReplayChunk(n,C.Dv(c.outCardHash),c.args,C.Dv(c.inCard),a)),l=await e.wait()}}else e=await x.addInput("0x70ac08179605AF2D9e75782b8DEcDD3c22aA4D0C",window.encodeReplay(n,C.Dv(c.outCardHash),c.args,C.Dv(c.inCard),C.Dv(c.log))),l=await e.wait();await a(Number(l.events[0].args[1]._hex)),h(o.Sent)}catch(e){h(o.Ready),alert(e.message)}}async function f(){let e=new($());e.file("gameplay.rivlog",t,{binary:!0}),e.file("score.outcard",i),e.generateAsync({type:"blob"}).then(function(e){let n=new Blob([e],{type:"application/octet-stream"}),t=new File([n],"gameplay.zip"),i=URL.createObjectURL(t);p(i,"gameplay.zip")})}return(0,l.jsxs)("div",{className:"d-flex justify-content-center",children:[x?(0,l.jsx)("div",{children:(0,l.jsx)(g.Z,{className:"my-2",animation:"border",variant:"light",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,l.jsx)(Z.Z,{variant:"outline-light",className:"me-4",onClick:f,children:"Download"}),u==o.Sending?(0,l.jsx)("div",{children:(0,l.jsx)(g.Z,{className:"my-2",animation:"border",variant:"light",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,l.jsx)(Z.Z,{variant:"outline-light",onClick:m,disabled:u==o.Sent,children:u==o.Sent?"Validated":"Submit"})]})}(r=o||(o={}))[r.Ready=0]="Ready",r[r.Sending=1]="Sending",r[r.Sent=2]="Sent";let T="me-2 link-light link-offset-2 link-underline link-underline-opacity-0 link-underline-opacity-75-hover",M={width:768,height:432};async function O(e,n){let t=await (0,b.V)("http://localhost:8080/graphql",n);if(0==t.notices.length&&0==t.reports.length)throw Error("Unable to find result from submited gameplay.");let i=JSON.parse(window.decodeVerifyReplayNotice(t.notices[0].payload)).Array;if(i[0]!=e)throw Error("Game Id does not match.");if(!i[3])throw Error("The Gameplay submited is not valid!")}function U(e){let{game:n}=e,t=(0,d.useRouter)(),[a,r]=(0,c.useState)(new Uint8Array(0)),[s,o]=(0,c.useState)(""),[h,p]=(0,c.useState)("Start"),[b,N]=(0,c.useState)(!1),[I,Z]=(0,c.useState)(!1),[S,D]=(0,c.useState)(0),[C,_]=(0,c.useState)(!1),[k,E]=(0,c.useState)(!1),[R,q]=(0,c.useState)(!1),{download:F}=(0,A.ZP)(),$=()=>_(!1),U=()=>E(!0);async function G(){if(!n||R)return;q(!0),i||(i=await (0,L.X8)(n.id)),q(!1);let e="game.sqfs",t=new Blob([i],{type:"application/octet-stream"}),a=new File([t],e),r=URL.createObjectURL(a);console.log("Cartridge Downloaded!"),F(r,e)}async function z(e){if(n)try{await O(n.id,e),$()}catch(e){$(),alert(e.message)}}async function V(e){if(n)try{await O(n.id,e)}catch(e){alert(e.message)}}if(!n)return(0,l.jsx)("div",{className:"d-flex justify-content-center pacman_loading",children:(0,l.jsx)("h1",{className:"mb-5 text-light align-self-end",children:"Loading..."})});async function J(){if(!n)return;console.log("rivemu_start"),N(!0),Module.quited&&Module._main(),i?await new Promise(e=>setTimeout(e,100)):i=await (0,L.X8)(n.id);let e=Module._malloc(i.length);console.log(e,i.length),Module.HEAPU8.set(i,e),Module.ccall("rivemu_start",null,["number","number"],[e,i.length]),Module._free(e)}{var X=window.history.pushState;window.history.pushState=function(){X.apply(window.history,arguments),Module.quited||(Module._quit(),Module.quited=!0)},window.rivemu_on_begin=function(e,n){console.log("rivemu_on_begin"),M.width=e,M.height=n,p("Restart"),N(!1),Z(!0);var t=document.getElementById("canvas"),i=document.getElementById("canvas-cover");t&&(t.width=Math.floor(768/e)*e,t.height=Math.floor(n/e*t.width),t.style.display="block"),i&&(i.style.display="none"),window.dispatchEvent(new Event("resize"))},window.rivemu_on_finish=function(e,n){console.log("rivemu_on_finish"),r(new Uint8Array(e)),o(new TextDecoder("utf-8").decode(n)),U()};let e=new TextDecoder;window.rivemu_on_outcard_update=function(n){let t=e.decode(n);if("JSON"==t.substring(0,4)){let e=JSON.parse(t.substring(4));e.score&&D(e.score)}}}return(0,l.jsxs)(u.Z,{className:"bg-dark text-light rounded",children:[(0,l.jsxs)("div",{className:"pb-2 pt-4",children:[(0,l.jsx)("canvas",{id:"canvas",height:768,width:768,style:{display:"none"},onContextMenu:e=>e.preventDefault(),tabIndex:-1}),(0,l.jsx)(j.Z,{id:"canvas-cover",className:"cartridge-cover",width:768,src:(null==n?void 0:n.cover)?"data:image/png;base64,".concat(n.cover):"/cartesi.jpg"})]}),(0,l.jsx)("div",{className:"text-center d-flex justify-content-center",children:(0,l.jsxs)("h3",{children:["Score: ",(0,l.jsx)("span",{className:"text-info",children:S})]})}),(0,l.jsxs)("div",{className:"text-center d-flex justify-content-center",children:[b?(0,l.jsx)("div",{className:"py-2 px-3",children:(0,l.jsx)(g.Z,{animation:"border",variant:"light"})}):(0,l.jsx)("button",{className:"btn btn-lg btn-light m-1",role:"button",onKeyDown:e=>e.preventDefault(),onClick:J,title:h,children:h}),(0,l.jsx)("button",{className:"btn btn-lg btn-light m-1",role:"button",disabled:b||!I,onClick:function(){n&&(console.log("rivemu_stop"),Module.cwrap("rivemu_stop")())},title:"Stop and Submit",children:"Stop"}),(0,l.jsx)("button",{className:"btn btn-lg btn-light m-1",role:"button",disabled:!I,onClick:function(){document.addEventListener("fullscreenchange",function(){let e=document.getElementById("canvas");!window.fullScreen&&e&&(e.width=Math.floor(768/M.width)*M.width,e.height=Math.floor(M.height/M.width*e.width),window.dispatchEvent(new Event("resize")))},!1);let e=document.getElementById("canvas");e&&e.requestFullscreen()},title:"Fullscreen",children:"Fullscreen"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"border-bottom border-light",children:(0,l.jsx)("h4",{children:"Description"})}),(0,l.jsx)("pre",{className:"ms-2",children:n.info.description})]}),(0,l.jsxs)("div",{className:"mb-2 d-flex align-items-baseline",children:[n.info.name?(0,l.jsx)("h2",{className:"me-2",children:n.info.name}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("a",{className:T,role:"button",onClick:G,title:"Download the cartridge to play on your machine",children:[R?(0,l.jsx)(g.Z,{className:"me-1",size:"sm",animation:"border",variant:"light"}):(0,l.jsx)("span",{className:"me-1",children:(0,l.jsx)(v.VxU,{})}),"Download Cartridge"]}),(0,l.jsxs)("a",{className:T,title:"Submit the log of a match/run",role:"button",onClick:()=>_(!0),children:[(0,l.jsx)("span",{className:"me-1",children:(0,l.jsx)(v.OIQ,{})}),"Submit Log"]})]}),(0,l.jsxs)("div",{className:"pb-2",children:[(0,l.jsx)("div",{children:(0,l.jsx)(f.Z,{responsive:!0,striped:!0,variant:"dark",size:"sm",children:(0,l.jsxs)("tbody",{children:[n.info.summary?(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Short Description"}),(0,l.jsx)("td",{children:n.info.summary})]}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Uploader"}),(0,l.jsx)("td",{children:n.userAddress})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Created At"}),(0,l.jsx)("td",{children:new Date(1e3*n.createdAt).toLocaleString()})]}),n.info.tags?(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Tags"}),(0,l.jsx)("td",{children:(0,l.jsx)(m.Z,{direction:"horizontal",gap:2,children:n.info.tags&&n.info.tags.map(e=>(0,l.jsx)(y.Z,{bg:"secondary",children:e},e))})})]}):(0,l.jsx)(l.Fragment,{}),n.info.url?(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"URL"}),(0,l.jsx)("td",{children:(0,l.jsx)("a",{href:n.info.url,children:n.info.url})})]}):(0,l.jsx)(l.Fragment,{}),n.info.authors?(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Authors"}),(0,l.jsx)("td",{children:(0,l.jsx)(m.Z,{direction:"horizontal",gap:2,children:n.info.authors&&n.info.authors.map(e=>(0,l.jsx)("a",{href:e.link,children:e.name},e.name))})})]}):(0,l.jsx)(l.Fragment,{})]})})}),(0,l.jsx)("a",{className:T,title:"View this game ranking",role:"button",onClick:()=>{t.push("/ranking/".concat(n.id))},children:(0,l.jsxs)("h4",{children:[(0,l.jsx)("span",{className:"me-1",children:(0,l.jsx)(w.nJJ,{})}),"Ranking"]})})]}),(0,l.jsx)(x.Z,{className:"py-3 px-5",show:k,animation:!1,onHide:()=>E(!1),children:(0,l.jsxs)("div",{className:"bg-dark text-light rounded border border-light",children:[(0,l.jsx)(x.Z.Header,{closeButton:!0,closeVariant:"white",children:(0,l.jsx)(x.Z.Title,{children:"Your gameplay is ready"})}),(0,l.jsx)(x.Z.Body,{children:(0,l.jsx)(P,{game_id:n.id,rivlog:a,outcard:s,log_sent:V,showModal:e=>{E(e)}})})]})}),(0,l.jsx)(x.Z,{className:"py-3 px-5",show:C,animation:!1,onHide:$,children:(0,l.jsxs)("div",{className:"bg-dark text-light rounded border border-light",children:[(0,l.jsx)(x.Z.Header,{closeButton:!0,closeVariant:"white",children:(0,l.jsx)(x.Z.Title,{children:"Submit a gameplay for this game"})}),(0,l.jsx)(x.Z.Body,{children:(0,l.jsx)(H,{game_id:n.id,log_sent:z})})]})}),(0,l.jsx)(B(),{src:"/rivemu.js",strategy:"lazyOnload"})]})}function G(){let e=(0,d.useRouter)(),[n,t]=(0,c.useState)(null);return(0,c.useEffect)(()=>{if(e.isReady&&e.query.id){let n="string"==typeof e.query.id?e.query.id:e.query.id[0];(0,L.nN)(n).then(e=>{t(e)})}},[e.isReady]),(0,l.jsxs)(u.Z,{id:"page-container",children:[(0,l.jsx)(h.Z,{activeKey:""}),(0,l.jsx)(U,{game:n}),(0,l.jsx)(p.Z,{})]})}}},function(e){e.O(0,[4980,1778,5937,3777,6243,5127,7123,3810,9774,2888,179],function(){return e(e.s=3929)}),_N_E=e.O()}]);